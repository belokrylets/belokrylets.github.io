"use strict";(self.webpackChunkimage_finder=self.webpackChunkimage_finder||[]).push([[8],{8:(e,n,a)=>{a.r(n),a.d(n,{default:()=>j});var s=a(43),r=a(139),c=a.n(r);const t="SearchPage_SearchPage__Bq9qW";var l=a(276),o=a(329),i=a(970);var u=a(621);const m=()=>{const e=(0,l.j)(),[n,a]=(0,s.useState)({search:""}),r=(0,s.useCallback)(((e,s)=>{a({...n,[e]:s})}),[n]),c=(0,l.G)(i.wC.selectTotal),{isLastPage:t,isLoading:m}=(0,l.G)((e=>e.images)),d=(0,s.useCallback)((()=>{e((0,u._)(n.search))}),[n,e]),h=(e=>{const n=(0,s.useRef)(null),a=(0,s.useRef)(null),r=(0,s.useCallback)((s=>{n.current&&n.current.disconnect(),n.current=new IntersectionObserver((n=>{n[0].isIntersecting&&e()}),{root:null,rootMargin:"0px",threshold:1}),s&&n.current.observe(s),a.current=s}),[e]);return(0,s.useEffect)((()=>()=>{n.current&&n.current.disconnect()}),[]),r})(d),_=(0,s.useCallback)((()=>{e((0,o.$)(n.search))}),[n,e]),p=(0,s.useCallback)((()=>{a({search:""}),e(i.E6.removeAll())}),[e]);return{onForm:r,form:n,onSubmit:_,onClear:p,ids:c,isLoading:m,onLoadNextPart:d,lastElementRef:h,isLastPage:t}},d="Container_container__+kXBu";var h=a(579);const _=(0,s.memo)((e=>{const{children:n}=e;return(0,h.jsx)("div",{className:c()(d),children:n})})),p="Finder_Finder__Fk+iD",I="Finder_searched__ZyI02",g="Finder_input__6FYu-",C={InputWrapper:"Input_InputWrapper__9imfX",leftIcon:"Input_leftIcon__fyZOb",rightIcon:"Input_rightIcon__PSyac",Input:"Input_Input__DaEGK"},f=(0,s.memo)((e=>{const{classes:n,onClear:a,value:r,name:t,placeholder:l,onChange:o,rightIcon:i,leftIcon:u}=e,m=(0,s.useCallback)((e=>{const{name:n,value:a}=e.target;o&&o(n,a)}),[o]);return(0,h.jsx)("label",{className:c()(C.label,[n]),children:(0,h.jsxs)("div",{className:C.InputWrapper,children:[u&&(0,h.jsx)("div",{className:C.leftIcon,children:u}),(0,h.jsx)("input",{onChange:m,placeholder:l,name:t,value:r,className:c()(C.Input)}),i&&""!==r&&(0,h.jsx)("div",{onClick:a,className:C.rightIcon,children:i})]})})}));var v=a(630),b=a(833);const x=(0,s.memo)((e=>{const{onChange:n,value:a,onSubmit:s,classes:r,inputName:t,onClear:o}=e,{isSearched:u}=(()=>{const e=(0,l.G)(i.wC.selectIds),{isEmptyResult:n}=(0,l.G)((e=>e.images));return{isSearched:!!e.length||n}})();return(0,h.jsxs)("form",{className:c()(p,[r],{[I]:u}),children:[(0,h.jsx)(f,{leftIcon:(0,h.jsx)(b.I,{iconName:"search"}),rightIcon:(0,h.jsx)(b.I,{iconName:"clearInput"}),name:t,value:a,onChange:n,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b, \u044f\u0431\u043b\u043e\u043a\u0438, \u0433\u0440\u0443\u0448\u0438...",classes:g,onClear:o}),(0,h.jsx)(v.$,{disabled:""===a,onClick:s,children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})})),j=(0,s.memo)((e=>{let{classes:n}=e;const{form:a,onForm:s,onSubmit:r,onClear:l,ids:o,lastElementRef:u,isLastPage:d,isLoading:p}=m();return(0,h.jsx)(_,{children:(0,h.jsxs)("main",{className:c()(t,[n]),children:[(0,h.jsx)(x,{onClear:l,value:a.search,onChange:s,onSubmit:r,inputName:"search"}),(0,h.jsx)(i.To,{}),!!o&&!d&&!p&&(0,h.jsx)("div",{ref:u})]})})}))}}]);
//# sourceMappingURL=8.43a98ba7.chunk.js.map